

<%= form_with(model: [post, review], local: true, method: :post) do |f| %>
  <%= render 'layouts/error_messages', resource: review %>
  <div id="review_form"></div>
  <%= f.text_area :comment, rows:'5',placeholder: "コメントをここに", class: "w-100" %>
  <%= f.submit "送信" %>
<% end %>


<script>
  $(document).on('turbolinks:load', function() {
    let elem = document.querySelector('#review_form');
    if (elem == null) return;

    elem.innerHTML = ""
    let opt = {  
      starOn: "<%= asset_path('star-on.png') %>",
      starOff: "<%= asset_path('star-off.png') %>",
      starHalf: "<%= asset_path('star-half.png') %>",
      scoreName: 'review[review]',
    };
    raty(elem, opt);
  });
</script>



